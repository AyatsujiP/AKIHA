# A Knowledge-based Items' Hierarchical Algorithm (AKIHA) Ver2.1.1 説明書

## 1． 概要
本プログラムは、好きなアイドルを2択で選んでいくと、自分自身の好きなアイドルの順位およびおすすめアイドルを表示してくれるプログラムである。
専門的なことを言うとソーティング結果に基づく重回帰と予測を実行するプログラムである。

名前の由来は上記略語(知識ベースによるアイテム階層化アルゴリズム)だが、14歳の天才ロボ少女とか、人の目を見ただけで心が読めるネコミミメイドとか、
Webに棲息するランプの魔人なんかにも関係があるかもしれない。関係がないかもしれない。

サンプルとして用意しているのはIdolm@ster シンデレラガールズに登場するアイドルであるが、実際にはスリーサイズ、年齢、身長、体重、性格(CuteかCoolかPassionかの3択)がわかれば
2次元だろうが3次元だろうが9次元データに落としこめるので、本プログラムでソート・サジェスト可能である。


## 2. サーバのセットアップ

### 2-1. DB(Postgresql)
 - Postgresql(9.6推奨)をダウンロードしておく。apt-getで入るものでよい。
 - ユーザーとして、akihaを作っておく。パスワードも適当に決める。
 
### 2-2. Django, numpy, PIL(Pythonパッケージ)
 - Django 1.11をダウンロードしておく。
 - numpyとPILについてもダウンロードしておく。
 - pip3 install django numpy pillowでインストール可能。

### 2-3. ソースコードのデプロイ
 - Git等より取得する。以下、/var/www/AKIHA以下にダウンロードしたことを前提に記載する。
 - 別の場所にデプロイした場合は適宜読み替えること。
 - AKIHA_for_web/配下に、secrets.pyファイルを作成する。
 - ファイルの内容として、以下を記載する。
 
    #-*- coding: utf-8 -*-
    DB_PASSWORD = '<2-1で決めたパスワード>'
    SECRET_KEY = '<適当な文字列。何でもよい。>'

### 2-4. DBの設定
 - postgresqlに、ユーザ名akiha、DB名akiha\_for\_webとしてDBを作っておく。文字コードはUTF-8にしておくこと。
 
### 2-5. マイグレーション
 - /var/www/AKIHAで、python3 manage.py migrateでDBにテーブルを作成。
 - /var/www/AKIHAで、python3 sorter/insert\_initial\_idols.pyを実行して初期データを投入。
 
### 2-6. 初期ロール投入
 - python3 manage.py createsuperuserでスーパーユーザ作成。Djangoの管理ユーザが作成される。
 
# 3. 実行
 - 2章の2-1から2-6までを実行した後、/var/www/AKIHAでpython3 manage.py runserverをすれば、127.0.0.1:8000で立ち上がる。
 - Apache上で動かしたいという要請がなければ、これでよい。
 - Apacheでホスティングしたい場合は、ご自身で調べてください。mod-wsgiを使うことになります。
 
# 4. 備考
 - 私は神谷奈緒Pです。
 
# 5. リリースノート
* 2016.8.12 Ver 0.7.0 バグフィックス実施、リリース版
* 2017.3.5 Windows10でも動作することを確認
* 2017.4.9 Ver 0.7.1 リリース(ソース管理をGithubに移行)
* 2017.7.8 Ver 0.8.0 リリース(ミリシタのリリースを記念して、ミリシタの初期アイドル3人のうちから1人がサジェストされるように修正)
* 2017.7.8 Ver 2.1.1 リリース()